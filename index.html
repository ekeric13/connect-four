<!DOCTYPE html>
<html>
<head>
 <link rel="stylesheet" type="text/css" href="c4.css">
</head>

<body>

<h1>Connect Four</h1>
<p id="timer">Seconds left: <span id="timer"></span></p>
<table id="connect4">
  <tr id="row6">
    <td class ="column1" ></td>
    <td class ="column2"></td>
    <td class ="column3"></td>
    <td class ="column4"></td>
    <td class ="column5"></td>
    <td class ="column6"></td>
    <td class ="column7"></td>
  </tr>
  <tr>
    <td class ="column1" > </td>
    <td class ="column2"></td>
    <td class ="column3"></td>
    <td class ="column4"></td>
    <td class ="column5"></td>
    <td class ="column6"></td>
    <td class ="column7"></td>
  </tr>
  <tr>
    <td class ="column1"></td>
    <td class ="column2"></td>
    <td class ="column3"></td>
    <td class ="column4"></td>
    <td class ="column5"></td>
    <td class ="column6"></td>
    <td class ="column7"></td>
  </tr>
  <tr>
    <td class ="column1"></td>
    <td class ="column2"></td>
    <td class ="column3"></td>
    <td class ="column4"></td>
    <td class ="column5"></td>
    <td class ="column6"></td>
    <td class ="column7"></td>
  </tr>
  <tr id="row2">
    <td class ="column1"></td>
    <td class ="column2"></td>
    <td class ="column3"></td>
    <td class ="column4"></td>
    <td class ="column5"></td>
    <td class ="column6"></td>
    <td class ="column7"></td>
  </tr>
  <tr id="row1">
    <td class="column1" ></td>
    <td class ="column2"></td>
    <td class ="column3"></td>
    <td class ="column4"></td>
    <td class ="column5"></td>
    <td class ="column6"></td>
    <td class ="column7"></td>
  </tr>
</table>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script type="text/javascript">

var move = function(columnNumber) {
  console.log("is move working?");
  var column1 = $('tr').find(columnNumber)


    for (var i=column1.length-1; i >= 0; i--) {
      if (!$(column1[i]).hasClass("active1") && !$(column1[i]).hasClass("active2")) {

        if (counter % 2 === 0  )  {
          $(column1[i]).addClass("active1" )
            break;
        }
        else {
          $(column1[i]).addClass("active2" )
            break;
        }

      }
    }
}

var movePlayer = function(event) {
  counter += 1
  // check even and odd number of key presses.

  var keyCode = event.keyCode;
  switch(keyCode) {
    case 65:
    move(".column1");
    break;
    case 83:
    move(".column2");
    break;
    case 68:
    move(".column3");
    break;
    case 70:
    move(".column4");
    break;
    case 71:
    move(".column5");
    break;
    case 72:
    move(".column6");
    break;
    case 74:
    move(".column7");
    break;
    default:
      console.log("fail");
    break;
  }
}

var counter = 0
var listenForKeys = function(){

  document.addEventListener("keyup", movePlayer);
  console.log("is this here?")

}
listenForKeys();

</script>

</body>
</html>
